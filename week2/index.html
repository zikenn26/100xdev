<head>
    <title>TODO Application</title>
</head>
<script>

    function todoCallBack(data){
        console.log(data)
        var parentElement = document.getElementById('showTodo')
        parentElement.innerHTML = JSON.stringify(data)
    }
    function callBack2(res){
        res.json().then(todoCallBack)
    }
    function getData(){
        fetch('http://localhost:3000/todo',{
            method: "GET"
        }).then(callBack2)
    }
    getData()


    function parsedResponse(data){
        console.log(data)
    }
    function callBack(res){
        res.json().then(parsedResponse)
    }
    function onPress(){
        var title = document.getElementById('title').value
        var description = document.getElementById('description').value
        fetch('http://localhost:3000/todo',{
            method: "POST",
            body: JSON.stringify({
                title : title,
                description : description
            }),
            headers: {
                "Content-Type":"application/json"
            }
        }).then(callBack)
    }
</script>
<body>
    Todo Title 
    <input type="text" name="" id="title">
    <br></br>
    Todo Description
    <input type="text" name="" id="description">
    <br></br>
    <button onclick="onPress()">Submit</button>
    <div id="showTodo">
        Following are your Todos:

    </div>
</body>
</html>